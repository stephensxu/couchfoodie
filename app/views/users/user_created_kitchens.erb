<div class="my_kitchen_list">

  <div class="user_page_notice">
    <% if flash[:notice] %>
      <%= flash[:notice] %>
    <% end %>
  </div>
  
  <ul class="my_kitchen clearfix">
    <% @kitchens.each do |kitchen| %>
      <% next if kitchen.data_status != "active" %>
    <li>
      <hr>
      <div class="individule_kitchen">
        <dl class="individule_kitchen_info">
          <dt class="kitchen_name"><%= kitchen.name %></dt>
          <dt class="title">Description: </dt>
          <dd><%= kitchen.description %></dd>
          <dt class="title">Location: </dt> 
          <dd><%= kitchen.street_address %>, <%= kitchen.city %>, <%= kitchen.state %>, <%= kitchen.zipcode %></dd>
        </dl>

        <div class="kitchen_reservations_in_kitchen_block">

          <% reservations_pending = kitchen.reservations.select { |reservation| reservation.status == "pending" } %>
          <% reservations_approved = kitchen.reservations.select { |reservation| reservation.status == "approved" } %>
          <% reservations_denied = kitchen.reservations.select { |reservation| reservation.status == "denied" } %>

          <%= link_to "Pending reservations (#{reservations_pending.count})", reservations_pending_kitchen_path(kitchen) %><br>
          <%= link_to "Approved reservations (#{reservations_approved.count})", reservations_approved_kitchen_path(kitchen) %><br>
          <%= link_to "Denied reservations (#{reservations_denied.count})", reservations_denied_kitchen_path(kitchen)%>

        </div>
        <div class="kitchen_buttons">
         <%= button_to("Edit", edit_kitchen_path(kitchen), :method => :get, :class => "button_normal")%><br>
         <%= button_to("Delete", kitchen_path(kitchen), :method => :delete, :class => "button_normal")%><br>
        </div>
      </div> 
      <hr>
    </li>
  <% end %>
  </ul>
</div>
